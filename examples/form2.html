<!DOCTYPE html>
<!--
Example of form population of select elements, setting the options of select elements, multiple value select elements
and multiple checkboxes with the same name.
-->
<html>
<head>
<script src="../bower_components/jquery/jquery.js"></script>
<script src="../src/consistent.js"></script>
<script src="../src/jquery.consistent.js"></script>
</head>
<body>
<h1>Consistent.js</h1>

<form>
	<p><select name="referrer" data-ct-options="referrerOptions"></select></p>
	<p><select name="product" data-ct-options="products"></select></p>

	<p><select name="interests" multiple="multiple">
		<option>Reading</option>
		<option>Movies</option>
		<option>Walking</option>
		<option>Fishing</option>
	</select></p>

	<p>
		<label><input type="checkbox" name="sizes" value="XL"> XL</label>
		<label><input type="checkbox" name="sizes" value="L"> L</label>
		<label><input type="checkbox" name="sizes" value="M"> M</label>
		<label><input type="checkbox" name="sizes" value="S"> S</label>
	</p>
</form>

<button id="change">Change</button>

<script>
$(function() {
	var scope = $("form").consistent();
	scope.referrer = "Friend";
	scope.product = 3;
	scope.interests = [ "Reading", "Fishing" ];
	scope.sizes = "XL";

	scope.referrerOptions = [
		"", "Friend", "Website", "Search Engine"
	];
	scope.products = [
		{},
		{ value: 1, text: "Lamp" },
		{ value: 2, text: "Bucket" },
		{ value: 3, text: "Axe" }
	];
	scope.$.apply();

	$("#change").click(function() {
		scope.referrer = "Search Engine";
		scope.product = (scope.product + 1) % scope.products.length;
		scope.interests = Math.random() < 0.5 ? "Walking" : [ "Reading", "Walking" ];
		scope.sizes = [ "L", "S" ];
		scope.$.apply();
	});
});
</script>

</body>
</html>
