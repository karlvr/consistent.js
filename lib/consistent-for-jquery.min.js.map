{"version":3,"file":"consistent-for-jquery.min.js","sources":["../src/consistent.js","../src/consistent-expressions.js","../src/jquery.consistent.js"],"names":["window","undefined","document","Consistent","arg0","arguments","length","createScope","findScopeByName","nodeName","findScopeForNode","parentScope","options","controller","argIndex","isScope","exception","scopeManagers","scopeManagersByName","SCOPE_TYPE","support","result","div","createElement","setAttribute","badGetSetAttribute","className","needChangeEventForActiveOnSubmit","needAggressiveChangeHandlingOnInputElements","createEventObject","merge","settings","attributes","key","show","hide","enabled","disabled","readOnly","readWrite","template","templateId","attributePrefix","properties","propertyPrefix","templateAttributePrefix","templateIdAttributePrefix","classAttribute","classAddAttribute","on","onPrefix","repeat","repeatContainerId","noBind","scope","init","initFunc","warningPrefix","scopeIdKey","functionIdKey","oldDisplayKey","addedClassesKey","maxWatcherLoops","autoCreateScopes","object","$","_type","mergeOptions","defaultOptions","scopeManager","ConsistentScopeManager","_id","_name","_scope","replaceController","root","scopeDeclarationAttributes","controllerDeclarationAttributes","initDeclarationAttributes","initFuncDeclarationAttributes","n","m","o","p","visit","dom","scopeName","controllerName","i","hasAttribute","getAttribute","getNestedProperty","name","bind","initValue","initFuncValue","update","call","apply","func","statementToFunction","evaluateStatement","child","firstChild","nodeType","nextSibling","destroyScope","_manager","destroy","findScope","scopeId","expressionToFunction","value","_plainObject","isArray","toString","isEmptyObject","arrayIndexOf","indexOf","array","searchElement","fromIndex","seen","merged","_merge","objectsStart","deep","target","source","push","found","deepTarget","$s","arg","mungeBadAttributeProperty","property","parts","split","current","constructor","getNestedPropertyNames","prefix","concat","setNestedProperty","inputOptionValue","option","optionValue","text","evaluateExpression","snapshot","get","set","templateEngine","autoListenToChange","autoListenToKeyEvents","eventHandlerPrefix","valueFunctionPrefix","getNodeOptions","node","bindings","selectOptions","selectedValue","selectedIndex","newOption","optionText","Option","label","getPropertyOrEvaluateExpression","this","setValue","render","attrs","setAttributeValue","allAttributes","join","addRemoveClasses","props","setPropertyValue","allProperties","names","propertyValue","propertyOrExpression","afterApply","currentValue","getValue","type","checked","defaultChecked","selected","src","innerHTML","removeAttribute","updatableBinding","scopeValue","splice","getAttributeValue","getPropertyValue","isShowing","binding","multiple","values","classesStringOrArray","newClasses","classesStringOrArrayToArray","existingClasses","addedClasses","j","k","newClass","ob","style","display","restore","added","remove","parentNode","removeChild","defaultGetNodeOptions","matched","findDeclarationAttribute","trim","propertyNameOrExpression","addAttribute","suffix","assertTemplateEngine","compile","templateById","addAttributeTemplate","addProperty","replace","addEvent","defaultEventName","handlerNameOrStatement","toLowerCase","console","log","declAttr","foundPrefix","lastIndexOf","substring","templateElement","getElementById","prepareAttributes","eventName","eventHandlerKey","events","keys","str","isPropertyName","match","processSnapshot","baseScope","propertyName","skip","propertyNameFromPrefixed","defaultEmptyScope","_controller","index","includeChildren","applyLater","clearTimeout","_applyLaterTimeout","setTimeout","needsApply","unbind","clear","newScope","replaceScope","newControllerOrFunctionName","addPrefixToPropertyName","funcOrIncludeParents","includeParents","parent","newController","childScope","temp","nodes","_domNodes","children","roots","_rootDomNodes","parentScopeManager","_parentScopeManager","childScopeManagers","_childScopeManagers","watch","handler","unwatch","prefixedPropertyName","valueFunction","getValueFunction","fire","ev","slice","setValueFunction","getOptions","evaluate","expression","exec","statements","lastPart","prefixRequiresNextInitialCap","toUpperCase","c","charAt","differentKeys","aObject","bObject","depth","isEqual","a","b","atype","removeAttributes","prototype","functionId","WATCH_ALL_KEY","_options","_nodes","_repeatNodes","_watchers","_nodesDirty","_applying","_repeatNodeScope","self","_cleanScopeSnapshot","_updateCleanScopeAndFireWatchers","nodeOptions","repeatData","_handleRepeat","childScopes","scopeOptions","repeatKey","repeatContext","repeatSnapshot","version","insertBefore","insertInside","previousNode","item","currentActiveElement","activeElement","needToRestoreFocus","findRepeatItemForObject","wasNew","domNodes","newDomNodes","items","lastNode","insertDomNodesBefore","before","nodesToRemove","focus","cloneNode","isMaybeArrayDefinitelyNotDom","isDirty","someDirty","dirty","notified","loops","currentCleanScopeSnapshot","notifyingState","nextCleanScopeSnapshot","_notifyWatchers","_notifyWatchAlls","newValue","oldValue","watchers","notifying","watcher","watcherId","cleanValue","scopeSnapshot","oldScopeSnapshot","cleanScopeSnapshot","addEventListener","listener","attachEvent","enhanceEvent","preventDefault","returnValue","dispatchSimpleEvent","createEvent","initEvent","dispatchEvent","fireEvent","parentDom","replacement","createComment","_changeListener","_keyListener","elements","removeEventListener","callback","message","ConsistentException","tokens","parseTokens","safeExpression","tokensToSafeJavascript","Function","e","safeStatements","TYPE_END_TOKEN","TYPE_PROPERTY","TYPE_OPERATOR","TYPE_GROUP","TYPE_STRING","TYPE_VALUE","TYPE_SEPARATOR","mode","cur","isPropertyStartChar","isStringDelimiterChar","isOperatorChar","isGroupChar","isNumberStartChar","isSeparatorChar","isEscapeChar","isWhiteChar","isPropertyChar","appendCurrentToken","isNumberChar","isReservedWord","op","reservedWordToOperator","isStatement","originalText","head","bodies","tails","groupId","body","tail","token","tokenType","nextToken","isMutatingOperator","addSlashes","unshift","suboperator","mutationOperatorSuboperator","pop","subsequentStatements","isAssignmentOperator","consistent","fn","each","nodeScope","jQuery"],"mappings":"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"}