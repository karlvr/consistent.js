{"version":3,"file":"consistent-for-jquery.min.js","sources":["../src/consistent.js","../src/consistent-expressions.js","../src/jquery.consistent.js"],"names":["window","undefined","Consistent","arg0","arguments","isScope","createScope","nodeName","findScopeForNode","findScopeByName","exception","scopeManagers","scopeManagersByName","SCOPE_TYPE","support","result","div","document","createElement","setAttribute","badGetSetAttribute","className","needChangeEventForActiveOnSubmit","needAggressiveChangeHandlingOnInputElements","createEventObject","merge","settings","attributes","key","show","hide","enabled","disabled","readOnly","readWrite","options","template","templateId","attributePrefix","properties","propertyPrefix","templateAttributePrefix","templateIdAttributePrefix","classAttribute","classAddAttribute","on","onPrefix","repeat","repeatContainerId","noBind","scope","init","initFunc","warningPrefix","scopeIdKey","functionIdKey","oldDisplayKey","addedClassesKey","maxWatcherLoops","autoCreateScopes","object","$","_type","parentScope","mergeOptions","defaultOptions","scopeManager","ConsistentScopeManager","_id","_name","_scope","root","declarationAttributes","initDeclarationAttributes","initFuncDeclarationAttributes","n","length","o","p","visit","dom","scopeName","i","getAttribute","name","bind","initHandled","func","initValue","statementToFunction","evaluateStatement","apply","initFuncValue","getNestedProperty","call","update","child","firstChild","nodeType","nextSibling","destroyScope","_manager","destroy","findScope","scopeId","expressionToFunction","value","_plainObject","isArray","toString","isEmptyObject","arrayIndexOf","indexOf","array","searchElement","fromIndex","seen","merged","_merge","objectsStart","deep","target","source","push","found","deepTarget","this","$s","arg","mungeBadAttributeProperty","property","parts","split","current","constructor","getNestedPropertyNames","prefix","concat","setNestedProperty","inputOptionValue","option","optionValue","text","evaluateExpression","snapshot","get","set","templateEngine","autoListenToChange","autoListenToKeyEvents","eventHandlerPrefix","valueFunctionPrefix","getNodeOptions","node","bindings","selectOptions","selectedValue","selectedIndex","newOption","optionText","Option","label","getPropertyOrEvaluateExpression","setValue","render","attrs","setAttributeValue","allAttributes","join","addRemoveClasses","props","setPropertyValue","allProperties","names","propertyValue","propertyOrExpression","afterApply","currentValue","getValue","type","checked","defaultChecked","selected","src","innerHTML","removeAttribute","updatableBinding","scopeValue","splice","getAttributeValue","getPropertyValue","isShowing","binding","multiple","values","classesStringOrArray","newClasses","classesStringOrArrayToArray","existingClasses","addedClasses","j","k","newClass","ob","style","display","restore","added","remove","parentNode","removeChild","defaultGetNodeOptions","matched","findDeclarationAttribute","trim","propertyNameOrExpression","addAttribute","suffix","assertTemplateEngine","compile","templateById","addAttributeTemplate","addProperty","replace","addEvent","defaultEventName","handlerNameOrStatement","toLowerCase","console","log","declAttr","foundPrefix","lastIndexOf","substring","templateElement","getElementById","prepareAttributes","eventName","eventHandlerKey","events","keys","str","isPropertyName","match","processSnapshot","dontRemoveEventHandlers","baseScope","propertyName","skip","propertyNameFromPrefixed","defaultEmptyScope","index","includeChildren","applyLater","clearTimeout","_applyLaterTimeout","setTimeout","needsApply","unbind","replaceScope","clear","model","includeParents","childScope","temp","parent","nodes","_domNodes","children","roots","_rootDomNodes","parentScopeManager","_parentScopeManager","childScopeManagers","_childScopeManagers","watch","handler","unwatch","prefixedPropertyName","addPrefixToPropertyName","valueFunction","getValueFunction","getEventHandler","setEventHandler","fire","ev","setValueFunction","getOptions","evaluate","expression","exec","statements","lastPart","prefixRequiresNextInitialCap","toUpperCase","c","charAt","differentKeys","aObject","bObject","depth","isEqual","a","b","atype","removeAttributes","prototype","Object","functionId","WATCH_ALL_KEY","_options","_nodes","_repeatNodes","_watchers","_nodesDirty","_applying","_repeatNodeScope","self","_cleanScopeSnapshot","_updateCleanScopeAndFireWatchers","nodeOptions","repeatData","_handleRepeat","childScopes","scopeOptions","repeatKey","repeatContext","repeatSnapshot","version","insertBefore","insertInside","previousNode","item","currentActiveElement","activeElement","needToRestoreFocus","findRepeatItemForObject","wasNew","domNodes","newDomNodes","items","lastNode","insertDomNodesBefore","before","nodesToRemove","focus","cloneNode","isMaybeArrayDefinitelyNotDom","isDirty","someDirty","dirty","notified","loops","currentCleanScopeSnapshot","notifyingState","nextCleanScopeSnapshot","_notifyWatchers","_notifyWatchAlls","newValue","oldValue","watchers","notifying","watcher","watcherId","cleanValue","scopeSnapshot","oldScopeSnapshot","cleanScopeSnapshot","addEventListener","listener","attachEvent","enhanceEvent","preventDefault","returnValue","dispatchSimpleEvent","createEvent","initEvent","dispatchEvent","fireEvent","parentDom","replacement","createComment","_changeListener","_keyListener","elements","removeEventListener","callback","newScope","message","ConsistentException","tokens","parseTokens","safeExpression","tokensToSafeJavascript","Function","e","safeStatements","TYPE_END_TOKEN","TYPE_PROPERTY","TYPE_OPERATOR","TYPE_GROUP","TYPE_STRING","TYPE_VALUE","TYPE_SEPARATOR","mode","cur","isPropertyStartChar","isStringDelimiterChar","isOperatorChar","isGroupChar","isNumberStartChar","isSeparatorChar","isEscapeChar","isWhiteChar","isPropertyChar","appendCurrentToken","isNumberChar","isReservedWord","op","reservedWordToOperator","isStatement","originalText","head","bodies","tails","groupId","body","tail","token","tokenType","nextToken","isMutatingOperator","addSlashes","unshift","suboperator","mutationOperatorSuboperator","pop","subsequentStatements","slice","isAssignmentOperator","consistent","fn","each","nodeScope","jQuery"],"mappings":"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"}