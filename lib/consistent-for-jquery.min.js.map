{"version":3,"file":"consistent-for-jquery.min.js","sources":["../src/consistent.js","../src/consistent-expressions.js","../src/jquery.consistent.js"],"names":["window","undefined","document","Consistent","arg0","arguments","length","createScope","findScopeByName","nodeName","findScopeForNode","parentScope","options","controller","argIndex","isScope","exception","scopeManagers","scopeManagersByName","SCOPE_TYPE","support","result","div","createElement","setAttribute","badGetSetAttribute","className","needChangeEventForActiveOnSubmit","needAggressiveChangeHandlingOnInputElements","createEventObject","merge","settings","attributes","key","show","hide","enabled","disabled","readOnly","readWrite","template","templateId","attributePrefix","properties","propertyPrefix","templateAttributePrefix","templateIdAttributePrefix","classAttribute","classAddAttribute","on","onPrefix","repeat","repeatContainerId","noBind","scope","init","initFunc","warningPrefix","scopeIdKey","functionIdKey","oldDisplayKey","addedClassesKey","maxWatcherLoops","autoCreateScopes","object","$","_type","mergeOptions","defaultOptions","scopeManager","ConsistentScopeManager","_id","_name","_scope","replaceController","root","scopeDeclarationAttributes","controllerDeclarationAttributes","initDeclarationAttributes","initFuncDeclarationAttributes","n","m","o","p","visit","dom","scopeName","controllerName","i","hasAttribute","getAttribute","getNestedProperty","name","bind","initValue","initFuncValue","update","call","apply","func","statementToFunction","evaluateStatement","child","firstChild","nodeType","nextSibling","destroyScope","_manager","destroy","findScope","scopeId","expressionToFunction","value","_plainObject","isArray","toString","isEmptyObject","arrayIndexOf","indexOf","array","searchElement","fromIndex","seen","merged","_merge","objectsStart","deep","target","source","push","found","deepTarget","$s","arg","mungeBadAttributeProperty","presentNestedProperty","property","replace","presentNestedProperties","unpresentNestedProperty","parts","split","current","constructor","getNestedPropertyNames","prefix","concat","setNestedProperty","inputOptionValue","option","optionValue","text","evaluateExpression","snapshot","get","set","templateEngine","autoListenToChange","autoListenToKeyEvents","eventHandlerPrefix","valueFunctionPrefix","getNodeOptions","node","bindings","selectOptions","selectedValue","selectedIndex","newOption","optionText","Option","label","getPropertyOrEvaluateExpression","this","setValue","render","attrs","setAttributeValue","allAttributes","join","addRemoveClasses","props","setPropertyValue","allProperties","names","propertyValue","propertyOrExpression","afterApply","currentValue","getValue","type","checked","defaultChecked","selected","src","innerHTML","removeAttribute","updatableBinding","scopeValue","splice","getAttributeValue","getPropertyValue","isShowing","binding","multiple","values","classesStringOrArray","newClasses","classesStringOrArrayToArray","existingClasses","addedClasses","j","k","newClass","ob","style","display","restore","added","remove","parentNode","removeChild","defaultGetNodeOptions","matched","findDeclarationAttribute","trim","propertyNameOrExpression","addAttribute","suffix","assertTemplateEngine","compile","templateById","addAttributeTemplate","addProperty","addEvent","defaultEventName","handlerNameOrStatement","toLowerCase","console","log","declAttr","foundPrefix","lastIndexOf","substring","templateElement","getElementById","prepareAttributes","eventName","eventHandlerKey","events","keys","str","isPropertyName","match","processSnapshot","baseScope","propertyName","skip","invalid","propertyNameFromPrefixed","keep","defaultEmptyScope","_controller","index","includeChildren","applyLater","clearTimeout","_applyLaterTimeout","setTimeout","needsApply","unbind","temp","clear","newScope","replaceScope","newControllerOrFunctionName","addPrefixToPropertyName","funcOrIncludeParents","includeParents","parent","newController","childScope","nodes","_domNodes","children","roots","_rootDomNodes","parentScopeManager","_parentScopeManager","childScopeManagers","_childScopeManagers","watch","handler","unwatch","unpresentedKey","prefixedPropertyName","valueFunction","getValueFunction","fire","newArguments","Array","prototype","slice","setValueFunction","getOptions","evaluate","expression","exec","statements","lastPart","prefixRequiresNextInitialCap","toUpperCase","c","charAt","differentKeys","aObject","bObject","depth","isEqual","a","b","atype","removeAttributes","functionId","WATCH_ALL_KEY","_options","_nodes","_repeatNodes","_watchers","_nodesDirty","_applying","_repeatNodeScope","self","_cleanScopeSnapshot","_updateCleanScopeAndFireWatchers","nodeOptions","repeatData","_handleRepeat","childScopes","scopeOptions","repeatKey","repeatContext","repeatSnapshot","version","insertBefore","insertInside","previousNode","item","currentActiveElement","activeElement","needToRestoreFocus","findRepeatItemForObject","wasNew","domNodes","newDomNodes","items","lastNode","insertDomNodesBefore","before","nodesToRemove","focus","cloneNode","isMaybeArrayDefinitelyNotDom","isDirty","someDirty","dirty","notified","loops","currentCleanScopeSnapshot","notifyingState","nextCleanScopeSnapshot","expandNestedKeys","_notifyWatchers","_notifyWatchAlls","lastNestingSeparator","newValue","oldValue","watchers","notifying","watcher","watcherId","cleanValue","scopeSnapshot","oldScopeSnapshot","cleanScopeSnapshot","addEventListener","listener","attachEvent","enhanceEvent","ev","preventDefault","returnValue","dispatchSimpleEvent","createEvent","initEvent","dispatchEvent","fireEvent","parentDom","replacement","createComment","_changeListener","_keyListener","elements","removeEventListener","callback","message","ConsistentException","tokens","parseTokens","safeExpression","tokensToSafeJavascript","Function","e","safeStatements","TYPE_END_TOKEN","TYPE_PROPERTY","TYPE_OPERATOR","TYPE_GROUP","TYPE_STRING","TYPE_VALUE","TYPE_SEPARATOR","mode","cur","isPropertyStartChar","isStringDelimiterChar","isOperatorChar","isGroupChar","isNumberStartChar","isSeparatorChar","isEscapeChar","isWhiteChar","isPropertyChar","appendCurrentToken","isNumberChar","isReservedWord","op","reservedWordToOperator","isStatement","originalText","head","bodies","tails","groupId","body","tail","token","tokenType","nextToken","isMutatingOperator","addSlashes","unshift","suboperator","mutationOperatorSuboperator","pop","subsequentStatements","isAssignmentOperator","consistent","fn","each","nodeScope","jQuery"],"mappings":"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"}