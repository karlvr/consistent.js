{"version":3,"file":"consistent-expressions.min.js","sources":["../src/consistent-expressions.js"],"names":["window","undefined","Consistent","expressionToFunction","value","tokens","parseTokens","safeExpression","tokensToSafeJavascript","Function","e","statementToFunction","safeStatements","TYPE_END_TOKEN","TYPE_PROPERTY","TYPE_OPERATOR","TYPE_GROUP","TYPE_STRING","TYPE_VALUE","TYPE_SEPARATOR","expression","i","n","length","mode","cur","c","charAt","isPropertyStartChar","isStringDelimiterChar","isOperatorChar","isGroupChar","isNumberStartChar","isSeparatorChar","isEscapeChar","isWhiteChar","isPropertyChar","appendCurrentToken","isNumberChar","isReservedWord","op","reservedWordToOperator","push","type","text","isStatement","originalText","head","bodies","tails","groupId","body","tail","token","tokenType","nextToken","isMutatingOperator","addSlashes","unshift","suboperator","mutationOperatorSuboperator","join","pop","subsequentStatements","slice","str","replace","isAssignmentOperator","indexOf"],"mappings":"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"}