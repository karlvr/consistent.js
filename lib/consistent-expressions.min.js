/*!
 * Consistent.js Expressions 0.9.0
 * @author Karl von Randow
 * @license Apache License, Version 2.0
 */
!function(e,t){if(typeof Consistent==="undefined"){throw"Consistent must be included before consistent-expressions.js"}Consistent.expressionToFunction=function(e){var t=o(e);var n=l(t,e);try{return new Function("ctx","return "+n+";")}catch(r){throw"Error compiling expression: "+e+" => "+n+" ("+r+")"}};Consistent.statementToFunction=function(e){var t=o(e);var n=a(t,e);try{return new Function("scope",n+";")}catch(r){throw"Error compiling statements: "+e+" => "+n+" ("+r+")"}};var n=0;var r=1;var i=2;var u=3;var s=4;var f=5;function o(e){var t=[];var o=0;var l=e.length;var a=n;var c="";while(o<l){var g=e.charAt(o);if(a===n){if(p(g)){a=r}else if(v(g)){a=u}else if(y(g)){a=i}else if(A(g)){a=s}else if(m(g)){a=f}else if(x(g)){throw"Illegal escape character at "+o+": "+e}else if(C(g)){o++;continue}else{throw"Invalid character '"+g+"' at "+o+": "+e}}else if(a===r){if(!h(g)){d();continue}}else if(a===i){if(!y(g)){d();continue}}else if(a===u){if(v(g)){c+=g;o++;d();continue}else if(x(g)){c+=g;o++;g=e.charAt(o)}}else if(a===s){if(!j(g)){d();continue}}else if(a===f){d();continue}c+=g;o++}function d(){if(c.length>0){if(a===r&&F(c)){var e=$(c);if(e!==null){t.push({type:i,text:e})}else{t.push({type:s,text:c})}}else{t.push({type:a,text:c})}}c="";a=n}d();return t}function l(e,t){var n=[];var o,l=e.length;for(o=0;o<l;o++){var a=e[o];if(a.type===r){n.push('ctx.get("'+c(a.text)+'")')}else if(a.type===i){if(d(a.text)){throw"Assignment is invalid in expression: "+t}else{n.push(a.text)}}else if(a.type===u||a.type===s){n.push(a.text)}else if(a.type===f){throw"Expressions may not contain multiple statements in expression: "+t}}return n.join(" ")}function a(e,t){var n="";var o=[];var l="";var a,p=e.length;for(a=0;a<p;a++){var h=e[a];if(h.type===r){var v=a+1<p?e[a+1]:null;if(v!==null&&v.type===i&&d(v.text)){o.push('this.$.set("'+c(h.text)+'", ');l=")";var x=w(v.text);if(x){o.push('this.$.get("'+c(h.text)+'")');o.push(x)}a++}else{o.push('this.$.get("'+c(h.text)+'")')}}else if(h.type===i){o.push(h.text)}else if(h.type===u||h.type===s){o.push(h.text)}else if(h.type===f){n+=" "+o.join(" ")+" "+l+";";o=[];l=""}}return n+" return "+o.join(" ")+" "+l}function c(e){return e.replace(/"/g,'\\"')}function p(e){return e>="a"&&e<="z"||e>="A"&&e<="Z"||e==="_"||e==="$"}function h(e){return p(e)||e==="."||e>="0"&&e<="9"}function v(e){return e==="'"||e==='"'}function x(e){return e==="\\"}function y(e){return e==="!"||e==="%"||e==="="||e==="<"||e===">"||e==="*"||e==="/"||e==="+"||e==="-"||e==="("||e===")"||e==="^"||e==="&"||e==="?"||e===":"}function g(e){return e==="="||e==="+="||e==="-="||e==="*="||e==="/="}function d(e){return g(e)||e==="++"||e==="--"}function w(e){if(e==="="){return null}else if(e.length==2&&e.indexOf("=")===1){return e.charAt(0)}else if(e==="++"){return"+1"}else if(e==="--"){return"-1"}else{throw"Unsupported mutation operator: "+e}}function m(e){return e===";"}function A(e){return e>="0"&&e<="9"}function j(e){return A(e)||e=="."}function C(e){return e<=" "}function F(e){return e==="true"||e==="false"||e==="null"||e==="undefined"||e==="and"||e==="or"||e==="not"||e==="lt"||e==="le"||e==="gt"||e==="ge"||e==="eq"||e==="ne"}function $(e){if(e==="and"){return"&&"}else if(e==="or"){return"||"}else if(e==="not"){return"!"}else if(e==="lt"){return"<"}else if(e==="le"){return"<="}else if(e==="gt"){return">"}else if(e==="ge"){return">="}else if(e==="eq"){return"=="}else if(e==="ne"){return"!="}else{return null}}}(window);